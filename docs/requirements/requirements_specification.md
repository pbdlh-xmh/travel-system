# 旅游网站需求规格说明书

## 1. 项目概述
### 1.1 项目目标
开发一个旅游推荐系统，为用户提供景点浏览、线路浏览、订单管理等功能。网站需要根据用户的兴趣和行为提供个性化的内容推荐。

### 1.2 用户角色
- 游客（未登录用户）：可浏览景点和线路信息，按浏览量排序展示
- 注册用户（已登录用户）：可享受个性化推荐，进行订单预订和收藏管理

### 1.3 项目范围
- 包含：用户管理、内容展示、订单处理、收藏管理、评价系统
- 不包含：后台管理系统（使用 RuoYi-Vue 现有后台）

## 2. 功能需求
### 2.1 首页功能
1. **轮播图**
   - 自动播放，间隔3秒
   - 支持手动切换
   - 展示高度400px
   - 图片通过后台管理上传

2. **内容展示**
   - 未登录用户：按浏览量排序展示景点和线路
   - 已登录用户：基于兴趣标签(40%)、用户行为(40%)和浏览量(20%)的混合推荐算法展示

3. **导航菜单**
   - 首页
   - 景点
   - 旅游线路
   - 个人中心（登录后显示）

### 2.2 用户功能
1. **登录/注册**
   - 支持邮箱或手机号注册
   - 必填信息：用户名、密码、手机号、兴趣标签
   - JWT Token 认证

2. **个人中心**
   - 基本信息修改（请确认myuser表字段）
   - 兴趣标签修改
   - 评论消息角标提示
   - 我的收藏
   - 我的订单
   - 评论信息

### 2.3 搜索功能
1. **搜索范围**
   - 景点搜索
   - 线路搜索

2. **搜索结果展示**
   - 分类展示
   - 支持模糊搜索
   - 结果分页展示

### 2.4 订单功能
1. **订单管理**
   - 全部订单
   - 正在进行
   - 完成订单
   - 订单分页展示

2. **订单详情**
   - 展示订单所有字段信息
   - 支持一星至五星评价
   - 订单状态跟踪

3. **支付功能**
   - 选择支付方式（微信/支付宝）
   - 模拟支付流程
   - 订单30分钟超时处理

### 2.5 收藏功能
1. **收藏分类**
   - 景点收藏
   - 线路收藏

2. **收藏管理**
   - 支持批量操作
   - 分类展示
   - 快速跳转详情页

## 3. 非功能需求
### 3.1 性能需求
1. **响应时间**
   - 页面加载时间：<3秒
   - 搜索响应时间：<1秒
   - API响应时间：<1秒

2. **并发处理**
   - 支持多用户同时操作
   - 订单并发处理

3. **系统容量**
   - 图片资源本地存储
   - Redis缓存热门数据

### 3.2 安全需求
1. **用户认证**
   - JWT Token认证
   - Token过期处理

2. **数据安全**
   - SQL注入防护
   - XSS防护
   - 敏感数据加密

3. **防攻击措施**
   - 表单重复提交防护
   - 接口访问频率限制

### 3.3 界面需求
1. **界面风格**
   - 简洁现代、毛玻璃效果 (backdrop-filter)
   - 统一的色彩方案
   - Element UI组件库

2. **响应式设计**
   - 支持移动端适配
   - 不需要触摸事件处理
   - 主流浏览器兼容

3. **操作友好性**
   - 加载动画
   - 下拉刷新
   - 错误提示友好

### 3.4 可靠性需求
1. **系统稳定性**
   - 7*24小时运行
   - 系统错误优雅降级

2. **数据备份**
   - 数据库定期备份
   - 重要操作日志记录

3. **故障恢复**
   - 系统故障自动恢复
   - 订单状态一致性保证

## 4. 系统架构
### 4.1 技术架构
1. **前端技术**
   - Vue框架
   - Element UI组件库
   - Axios请求库

2. **后端技术**
   - RuoYi-Vue框架
   - Spring Boot
   - MyBatis Plus

3. **数据库设计**
   - MySQL数据库
   - Redis缓存

### 4.2 系统集成
1. **外部接口**
   - 支付接口（模拟）


2. **第三方服务**
   - 图片存储服务
   - 缓存服务

## 5. 数据要求
### 5.1 数据库设计
核心数据表：
1. admin - 管理员表
2. attraction - 景点表
3. carousel - 轮播图表
4. favorite - 收藏表
5. myorder - 订单表
6. myuser - 用户表
7. news - 新闻表
8. route_attraction - 线路景点关联表
9. tour_route - 旅游线路表
10. user_behavior - 用户行为表

### 5.2 数据字典
详见数据库设计文档

### 5.3 数据流程
1. 用户数据流程
2. 订单数据流程
3. 推荐数据流程

## 6. 约束与限制
### 6.1 技术约束
- 基于RuoYi-Vue框架开发
- 使用Element UI组件库
- 图片本地存储

### 6.2 业务约束
- 订单30分钟超时
- 评价仅支持一次
- 推荐算法权重固定

### 6.3 法律法规
- 用户隐私保护
- 数据安全规范
- 实名认证要求

## 7. 附录
### 7.1 术语表
- JWT: JSON Web Token
- XSS: Cross-site Scripting
- SQL: Structured Query Language

### 7.2 参考文档
- RuoYi-Vue官方文档
- Element UI官方文档
- Vue.js官方文档